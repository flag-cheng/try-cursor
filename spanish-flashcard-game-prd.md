西班牙語翻卡片遊戲 PRD

## 1. 背景與機會
- 目標：以遊戲化翻卡片方式，降低初學者背單字與情境句的摩擦，提供可量測的進步與留存。
- 問題：傳統背單字缺少動機與回饋，易流失；現有 App 內容碎片化、缺少系統性間隔重複。
- 商機：以每日 5–10 分鐘微學習、明確獎勵與進度追蹤，提升 30+ 天留存與付費轉換（移除廣告／解鎖高級套件）。

## 2. 目標與成功指標
- 核心目標：提升西語詞彙量、聽說讀寫基礎熟練度，建立日常學習習慣。
- MVP 成功指標（首 8 週）：
  - D1 留存 ≥ 45%，D7 留存 ≥ 25%，D30 留存 ≥ 12%。
  - 平均每日完成卡片數 ≥ 30 張，平均日活學習時長 ≥ 8 分鐘。
  - 單字熟練度提升：同一卡片 3 次覆盤後的正確率 ≥ 80%。
  - NPS ≥ 30，應用商店評分 ≥ 4.6。
- 商業指標（可選）：廣告填充率 ≥ 85%；付費轉換（移除廣告／高級套件）≥ 3%。

## 3. 目標用戶與場景
- 用戶：西語零基礎到 A2 的自學者；時間碎片化（通勤、排隊、睡前）。
- 目標場景：每日 5–10 分鐘，手機端快速刷題；短期備考（DELE A1/A2）或旅遊會話。
- 動機：增加可理解輸入，快速累積 1,000–2,000 高頻詞與情境句，並聽說同步。

## 4. 範圍
- In scope（MVP）：卡片翻轉測驗（文字、音訊）、基本間隔重複、每日任務、主題套件（旅行、日常、餐廳等）、離線緩存、基礎成就與排行榜（週榜）。
- Out of scope（MVP 之後）：真人對話、AI 口說評分、社群聊天室、老師批改、跨平台同步桌面版。

## 5. 核心玩法與體驗
- 單局流程：進入主題套件 → 逐張卡片翻轉 → 用戶輸入/選擇答案 → 即時回饋 → 記錄熟練度 → 間隔排程下一次複習。
- 卡片形式：
  - 正面：西語詞或句（顯示詞性、重音、例句提示圖示）。
  - 背面：中文義、音標/重音標註、TTS 音訊、短例句（西/中雙語）、慢速播放按鈕。
  - 類型：選擇題（單選）、拼寫題（鍵盤輸入）、聽力題（只播音訊）、配對題（後續版本）。
- 回饋與動機：連擊（streak）、XP、成就（首次滿分、一週連續學習）、小獎章；錯題加入「錯題本」自動強化。
- 難度與節奏：
  - SM-2 簡化版間隔：品質分 0–5；初次：10 分鐘 → 1 天 → 3 天 → 7 天 → 14 天 → 30 天。
  - 熟練度分級：0（未學）、1（新學）、2（半熟）、3（熟）、4（牢固）；答錯降 1 級並重排間隔。
- 安全網：連續答錯 2 次後提供提示或切換選擇題，避免挫折。

## 6. 內容策略
- 內容來源與結構：CEFR A1/A2 高頻詞彙 + 旅遊/日常情境句；每張卡含：詞性、性數變化、重音位置、例句（含慢速音訊）。
- 分類：主題套件（旅行、餐廳、交通、方向、購物、急救、日常寒暄）、考試套件（DELE A1/A2 核心詞）。
- 資料欄位：id、surface（es）、lemma、pos、gender/number、translation、ipa/重音、audio_url、example_es、example_zh、tags、difficulty。
- 本地化：介面語言（繁中/英）切換；西語地區發音偏好（西班牙/拉美）供選。
- 品質：音訊真人錄製優先，TTS 作為補充；例句限制 8–12 詞，避免複雜從句。

## 7. 主要功能需求（MVP）
- Onboarding：語言偏好、目標（旅遊/考試/日常）、每日目標張數（預設 30）。
- 學習模式：快速刷題（系統混合新卡與到期複習）、主題關卡模式、錯題強化模式。
- 複習排程：SM-2 簡化，支持手動「稍後重看」，每日到期清單自動生成。
- 提示與容錯：顯示首字母、重音位置、慢速音訊；拼寫題容錯（重音符號與大小寫）。
- 音訊：普通/慢速兩種播放；播放後 1.5s 才能提交，鼓勵聽完整。
- 成就/排行：連續天數、滿分關卡、週排行（以 XP/完成數計）。
- 離線：下載已學套件的文本與音訊；離線進度本地暫存，連網自動同步。
- 可及性：字型放大、色弱模式、音量獨立控制；支援螢幕閱讀。

## 8. 系統邏輯
- 卡片選擇：每日批次抽取到期複習卡 + 當日新卡（上限 20）；錯題優先排序。
- 評分規則：
  - Q=5（完全正確）：間隔倍數 2.5，熟練度 +1（至多 4）。
  - Q=3–4（小錯/慢速）：間隔倍數 2.0，熟練度維持。
  - Q=1–2（錯誤）：重置為 10 分鐘/1 天，熟練度 -1。
- 卡片生成：根據主題與熟練度混排題型；聽力題插入比例 20–30%；拼寫題僅對熟練度≥2 的卡。
- 通知：可選每日提醒（固定時段）；避免過度打擾（連續 2 次未開啟則降頻）。

## 9. 事件與資料（分析）
- 事件：app_open、session_end、card_show、card_answer、answer_quality、streak_inc、pack_download、offline_sync、audio_play、achievement_unlock、purchase_start/success。
- 指標：留存（D1/D7/D30）、平均完成卡片數、錯題率、熟練度分佈、提醒點開率、音訊播放率、離線使用率、轉換率。

## 10. 非功能需求
- 平台：iOS/Android（同一程式碼庫優先；桌面 Web 可後續）。
- 效能：啟動 < 3s，卡片翻轉與音訊延遲 < 300ms；離線包解壓 < 5s。
- 穩定：崩潰率 < 0.3%；資料同步重試與沖突合併（以最後修改時間為準）。
- 隱私：GDPR/CCPA；明確告知麥克風權限（若啟用錄音題型）。

## 11. 風險與假設
- 風險：內容品質與音訊成本；新手被拼寫題嚇退；推播被關閉導致回訪低。
- 緩解：先以選擇/聽力為主；拼寫題在熟練度≥2 才出；每套件預覽音訊品質；推播降頻並提供桌面小工具提醒。

## 12. 里程碑
- M0：內容表、音訊樣本、題型互動雛形。
- M1（MVP，4–6 週）：主題套件 + 基礎 SRS + 選擇/拼寫/聽力題 + 成就/連擊 + 離線緩存。
- M2（8–10 週）：排行榜、錯題本強化、音訊區域發音選擇、A/B 動機化實驗。
- M3（12+ 週）：配對題、口說錄音評分（若有需求）、更細的自適應間隔與個人化推薦。
